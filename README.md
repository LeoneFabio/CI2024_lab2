# CI2024 Lab 2

## Proposed Algorithms

- ### Greedy Approaches
    - #### Minimum Spanning Tree (MST)
    - #### Custom Nearest Neighbor (Custom NNA)
    - #### Classic Nearest Neighbor (Classic NNA)
- ### Genetic Algorithm Approach
    - #### Incorporates various Parent Selection, Crossover, and Mutation strategies

## Notation and Acronyms

- **TSP**: Traveling Salesman Problem
- **Tour** and **Path**: Synonymous terms referring to the shortest possible route that visits each city exactly once and returns to the origin.
- **Total Length** or **Total Distance**: The cumulative length (in kilometers) of the entire tour.
- **Num Steps**: Number of cities visited in the tour.
- **MST**: Minimum Spanning Tree
- **NNA**: Nearest Neighbor Algorithm
- **GA**: Genetic Algorithm

## Contents

Tours are computed for the countries Russia, Italy, Vanuatu, China, and the USA, with city data provided in the respective `.csv` files located in the `cities` folder.

This project presents both **Greedy** and **Genetic** approaches. It includes three greedy algorithms (two well-known in computer science literature and one based on a custom idea) and a flexible Genetic Algorithm that supports various strategies for parent selection, crossover, and mutation. 

### Greedy Implementations

- **MST-Based Approach**: Uses a Depth First Search (DFS) starting from a graph of all connected cities.
- **Custom NNA**: An innovative approach that alternately selects the closest city from both the start and end of the tour toward the middle. This method leverages the idea that since the starting and ending city are the same, building the tour from both ends toward the middle may lead to a more optimized loop than advancing linearly.
- **Classic NNA**: Constructs the tour by selecting the closest city as the next destination.

### Genetic Algorithm Implementation

The Genetic Algorithm (GA) includes the following strategies for each of its main components:

- **Parent Selection**:
    - Uniform Selection
    - Roulette Wheel Selection
    - Fitness-Proportional Selection
    - Rank-Based Selection
    - Tournament Selection
- **Crossover**:
    - Order Crossover
    - Partially Mapped Crossover
    - Cycle Crossover
    - Inver-Over Crossover
- **Mutation**:
    - Scramble Mutation
    - Insert Mutation
    - Inversion Mutation

Additionally, plots are provided to illustrate how the total distance evolves over generations (iterations) in the genetic algorithm.

## Observations

- To enhance the Genetic Algorithm's starting population, paths generated by the three greedy algorithms were included, providing high-quality reference points.
- For the Traveling Salesman Problem, the **best GA** configuration observed was **tournament selection**, combined with **order crossover (OX)** and **inversion mutation**.
- Fitness in the GA is defined as the inverse of the total distance (`1/total_distance`). Note that using `-total_distance` directly is incompatible with roulette wheel selection due to negative values.


## Results

The tables below summarize the results for the five countries considered in this study, generated from a single execution of the algorithms. The **Genetic Algorithm** was configured with 4000 iterations, utilizing **tournament selection**, **order crossover (OX)**, and **inversion mutation**.

### Key Metrics:
- **Total Length** represents the total distance (in kilometers) of the calculated tour for each algorithm. Lower values indicate shorter, more efficient tours.
- **# Steps** denotes the number of cities visited in the tour, which is equal for all algorithms as each visits every city exactly once.

---

### Russia
| Algorithm                        | Total Length (km) | # Steps |
|----------------------------------|-------------------|---------|
| Minimum Spanning Tree (MST)      | 44,627.76        | 167     |
| Custom Nearest Neighbor (NNA)    | 46,976.31        | 167     |
| Classic Nearest Neighbor (NNA)   | 42,334.16        | 167     |
| Genetic Algorithm (GA)           | **36,498.24**    | 167     |

### Italy
| Algorithm                        | Total Length (km) | # Steps |
|----------------------------------|-------------------|---------|
| Minimum Spanning Tree (MST)      | 4,949.44         | 46      |
| Custom Nearest Neighbor (NNA)    | 5,127.71         | 46      |
| Classic Nearest Neighbor (NNA)   | 4,436.03         | 46      |
| Genetic Algorithm (GA)           | **4,176.28**     | 46      |

### Vanuatu
| Algorithm                        | Total Length (km) | # Steps |
|----------------------------------|-------------------|---------|
| Minimum Spanning Tree (MST)      | **1,345.54**     | 8       |
| Custom Nearest Neighbor (NNA)    | 1,397.64         | 8       |
| Classic Nearest Neighbor (NNA)   | 1,475.53         | 8       |
| Genetic Algorithm (GA)           | **1,345.54**     | 8       |

### China
| Algorithm                        | Total Length (km) | # Steps |
|----------------------------------|-------------------|---------|
| Minimum Spanning Tree (MST)      | 65,705.76        | 726     |
| Custom Nearest Neighbor (NNA)    | **61,385.25**    | 726     |
| Classic Nearest Neighbor (NNA)   | 63,962.92        | 726     |
| Genetic Algorithm (GA)           | 92,513.15        | 726     |

### USA
| Algorithm                        | Total Length (km) | # Steps |
|----------------------------------|-------------------|---------|
| Minimum Spanning Tree (MST)      | 50,030.25        | 326     |
| Custom Nearest Neighbor (NNA)    | 49,875.43        | 326     |
| Classic Nearest Neighbor (NNA)   | **48,050.03**    | 326     |
| Genetic Algorithm (GA)           | 49,842.71        | 326     |

---

## Conclusions and Insights

- **Genetic Algorithm**: In most cases, the GA achieved shorter total lengths compared to greedy approaches, particularly for Russia and Italy, suggesting strong performance in optimizing tour lengths. However, for China and the USA, the GA was outperformed by greedy methods, potentially due to the complexity and scale of the cities involved.
- **Greedy Methods**: These methods are particularly effective when tackling a large number of cities, as seen in the China and USA cases, where they produced the shortest tours.
- **Custom NNA Performance**: In some cases, the Custom NNA produced tours with longer distances compared to Classic NNA, indicating that the benefits of a custom approach may vary depending on country-specific data and city configurations.

## References and Collaborations
#### Book --> S. Luke; “Essentials of Metaheuristics” (2nd edition)
#### Teaching material
#### Colleagues --> Gabriele Raffaele